</p><div class="ptx" lang="en-US"><p>Typesetting involves the presentation of textual material in graphic form on paper or some other medium. Close as it is related to our daily life, typesetting exhibits certain complexities which may be unfamiliar and sometimes unimaginable to the layman. The use of typographical ligatures is one such complexity.</p><p>Compare the two appearances of the word “define” in Figure 7. Figure 7(a) illustrates the word typeset with the “fi” ligature as Knuth’s TeX does. The letters “f” and “i” are combined into a single glyph. Figure 7(b) shows the word typeset without the ligature as Microsoft Word does. The letters “f” and “i” remain separate. Other examples include the “ff”, “ffi”, “fl” and “ffl” ligatures, as shown in Figure 8. Perhaps the most notable ligature in active use is the “&amp;” (ampersand), which originated from “et”, the Latin word for “and”.</p><div align="center"><table><tr style="font-family: 'Palatino Linotype'; font-size: 36pt;"><td align="center">deﬁne</td><td style="width: 54pt;"></td><td align="center">def﻿ine</td></tr><tr style="font-size: 10pt;"><td align="center">(a)</td><td style="width: 54pt;"></td><td align="center">(b)</td></tr></table></div><p align="center">Figure 7: The word “define” typeset with and without the “fi” ligature</p><div align="center"><table><tr style="font-family: 'Palatino Linotype'; font-size: 25pt;"><td>eﬀect</td><td style="width: 27pt;"></td><td>oﬃce</td><td style="width: 27pt;"></td><td>reﬂect</td><td style="width: 27pt;"></td><td>waﬄe</td></tr></table></div><p align="center">Figure 8: Examples of the “ff”, “ffi”, “fl” and “ffl” ligatures</p><p>Ligatures are primarily intended to improve spacing between letters. Despite that their impact on legibility is debated and that their use is declining, some people insist that they are an essential part of quality typesetting. In order to typeset ligatures, separate glyphs have to be used since ligatures generally differ from direct combinations of their constituent letters in most cases.</p><p>Given some text, count the number of glyphs that have to be used to typeset it. Only the “ff”, “fi”, “ffi”, “fl”, and “ffl” ligatures are considered. Note that they are case-sensitive. Ligatures are recognized following the leftmost longest rule—find the leftmost match, then the longest match if there are any ties. Each distinct letter, ligature or punctuation mark requires a separate glyph. However, if a letter appears only in ligatures and nowhere else, it shall not be assigned a glyph. Furthermore, left single and double quotes differ from their right counterparts. Spaces do not require a glyph.</p></div><p class="pst">Input</p><div class="ptx" lang="en-US"><p>The input contains a single test case consisting of some text. The text is given on multiple lines not longer than 100 characters each. The text contains only letters (lowercase and uppercase), punctuation marks and spaces. Punctuation marks include periods, commas, semicolons, colons, single and double quotes, exclamation and question marks. Quotes are represented by “<tt>`</tt>” (left single quote), “<tt>&#39;</tt>” (right single quote), “<tt>``</tt>” (left double quote) and “<tt>&#39;&#39;</tt>” (right double quote), respectively. They are also recognized following the leftmost longest rule. The input ends where EOF is met.</p></div><p class="pst">Output</p><div class="ptx" lang="en-US"><p>Print the number of glyphs that have to be used to typeset the given text.</p></div><p class="pst">Sample Input</p><pre class="sio">```define, effect; office.
reflect? waffle!'''</pre><p class="pst">Sample Output</p><pre class="sio">23</pre><p class="pst">Hint</p><div class="ptx" lang="en-US"><p>The text in the sample is typeset as Figure 9. The 23 used glyphs are listed in Figure 10 in the order of their first appearances in Figure 9.</p><div align="center"><table><tr><td style="font-family: 'Palatino Linotype'; font-size: 25pt;">“‘deﬁne, eﬀect; oﬃce.<br>reﬂect? waﬄe!”’</td></tr></table></div><p align="center">Figure 9: Result of typesetting the text in the sample</p><div align="center"><table style="border-collapse: collapse; font-family: 'Palatino Linotype'; font-size: 18pt;"><tr><td style="border: solid black 1pt;" width="12%">“</td><td style="border: solid black 1pt;" width="12%">‘</td><td style="border: solid black 1pt;" width="12%">d</td><td style="border: solid black 1pt;" width="12%">e</td><td style="border: solid black 1pt;" width="12%">ﬁ</td><td style="border: solid black 1pt;" width="12%">n</td><td style="border: solid black 1pt;" width="12%">,</td><td style="border: solid black 1pt;" width="12%">ﬀ</td></tr><tr><td style="border: solid black 1pt;" width="12%">c</td><td style="border: solid black 1pt;" width="12%">t</td><td style="border: solid black 1pt;" width="12%">;</td><td style="border: solid black 1pt;" width="12%">o</td><td style="border: solid black 1pt;" width="12%">ﬃ</td><td style="border: solid black 1pt;" width="12%">.</td><td style="border: solid black 1pt;" width="12%">r</td><td style="border: solid black 1pt;" width="12%">ﬂ</td></tr><tr><td style="border: solid black 1pt;" width="12%">?</td><td style="border: solid black 1pt;" width="12%">w</td><td style="border: solid black 1pt;" width="12%">a</td><td style="border: solid black 1pt;" width="12%">ﬄ</td><td style="border: solid black 1pt;" width="12%">!</td><td style="border: solid black 1pt;" width="12%">”</td><td style="border: solid black 1pt;" width="12%">’</td><td style="border: solid black 1pt;" width="12%"></td></tr></table></div><p align="center">Figure 10: Glyphs appearing in Figure 9</p></div><p class="pst">